# billclaw å¼€å‘æŠ€èƒ½åº“

OpenClaw Plugin å¼€å‘çŸ¥è¯†åº“ã€‚

## é¡¹ç›®å®šä½

**billclaw** æ˜¯ä¸€ä¸ª OpenClaw Pluginï¼Œæä¾›é‡‘èæ•°æ®å¯¼å…¥åŠŸèƒ½ï¼Œæ ¸å¿ƒä»·å€¼æ˜¯**æ•°æ®ä¸»æƒå›å½’**ã€‚

## æŠ€æœ¯æ ˆ

- **Runtime**: Node.js + TypeScript (ESM)
- **Plugin SDK**: `@openclaw/plugin-sdk`
- **Data Sources**: Plaid SDK, GoCardless, Gmail API
- **Validation**: Zod
- **Testing**: Vitest
- **Linting**: oxlint + oxfmt

## é¡¹ç›®ç»“æ„

```
billclaw/
â”œâ”€â”€ extensions/billclaw/          # Plugin (æ ¸å¿ƒåŠŸèƒ½)
â”‚   â”œâ”€â”€ index.ts                  # Plugin å…¥å£
â”‚   â”œâ”€â”€ config.ts                 # Zod schemas
â”‚   â”œâ”€â”€ openclaw.plugin.json      # Plugin æ¸…å•
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ cli/                  # CLI å‘½ä»¤
â”‚       â”œâ”€â”€ tools/                # Agent å·¥å…·
â”‚       â”œâ”€â”€ oauth/                # OAuth æµç¨‹
â”‚       â””â”€â”€ services/             # åå°æœåŠ¡
â”œâ”€â”€ skills/billclaw/              # Skill (ç”¨æˆ·æ–‡æ¡£)
â”‚   â””â”€â”€ SKILL.md
â””â”€â”€ .claude/                      # æœ¬ç›®å½•
    â”œâ”€â”€ hooks/                    # å¼€å‘é’©å­
    â””â”€â”€ skills/                   # å¼€å‘æŠ€èƒ½
```

## å¼€å‘è§„èŒƒï¼ˆå¿…è¯»ï¼‰

### æ ¸å¿ƒè§„èŒƒ
- [hooks/git](../hooks/git.md) - Git æäº¤è§„èŒƒ
- [hooks/naming](../hooks/naming.md) - å‘½åè§„èŒƒ

### æ¶æ„è®¾è®¡

#### Plugin èƒ½åŠ›æ³¨å†Œ

`index.ts` é€šè¿‡ Plugin API æ³¨å†Œï¼š

1. **CLI Commands** - `registerCLI()` - æ³¨å†Œ `openclaw bills` å‘½ä»¤
2. **Agent Tools** - `registerTools()` - æ³¨å†Œ Agent å¯ç”¨å·¥å…·
3. **OAuth Providers** - `registerOAuth()` - æ³¨å†Œ OAuth æµç¨‹
4. **Background Services** - `registerServices()` - æ³¨å†Œåå°æœåŠ¡

#### æ•°æ®æµè®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Plaid     â”‚â”€â”€â”€â–¶â”‚  billclaw   â”‚â”€â”€â”€â–¶â”‚   JSON      â”‚
â”‚   API       â”‚    â”‚  Plugin     â”‚    â”‚   Storage   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  Beancount  â”‚
                   â”‚  SaaS API   â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### é…ç½®æ¶æ„

- **Zod Schemas** - è¿è¡Œæ—¶éªŒè¯ + ç±»å‹æ¨å¯¼
- **uiHints** - OpenClaw é…ç½®ç•Œé¢æç¤º
- **auth-profiles.json** - OpenClaw æ ‡å‡† OAuth token ç®¡ç†

#### å­˜å‚¨æ¶æ„

```
~/.openclaw/billclaw/
â”œâ”€â”€ accounts.json           # è´¦æˆ·æ³¨å†Œè¡¨
â”œâ”€â”€ accounts/{id}.json      # æ¯è´¦æˆ·å‡­è¯
â”œâ”€â”€ transactions/{id}/YYYY/MM.json
â”œâ”€â”€ sync/{id}/{syncId}.json
â””â”€â”€ cursor.json             # å…¨å±€æ¸¸æ ‡
```

## å¼€å‘å‘½ä»¤

```bash
# ä» extensions/billclaw/ æ‰§è¡Œ
npm run build      # TypeScript ç¼–è¯‘
npm run dev        # ç›‘å¬æ¨¡å¼
npm run test       # è¿è¡Œæµ‹è¯•
npm run lint       # oxlint æ£€æŸ¥
npm run format     # oxfmt æ ¼å¼åŒ–
```

## å®ç°é˜¶æ®µ

| é˜¶æ®µ | çŠ¶æ€ | æè¿° |
|-----|------|------|
| Phase 0 | âœ… å®Œæˆ | æ¶æ„è®¾è®¡ã€é¡¹ç›®ç»“æ„ |
| Phase 1 | ğŸš§ è¿›è¡Œä¸­ | Plaid API é›†æˆ |
| Phase 2 | å¾…å¼€å§‹ | Gmail API é›†æˆ |
| Phase 3 | å¾…å¼€å§‹ | Webhook æ¨é€ |
| Phase 4 | å¾…å¼€å§‹ | CLI ç”¨æˆ·ä½“éªŒ |
| Phase 5 | å¾…å¼€å§‹ | OpenClaw é›†æˆå‘å¸ƒ |

## é”™è¯¯å¤„ç†ç­–ç•¥

- **å¹‚ç­‰æ€§ä¿è¯** - äº¤æ˜“å»é‡ (24å°æ—¶çª—å£)
- **åŸå­å†™å…¥** - ä¸´æ—¶æ–‡ä»¶ + åŸå­é‡å‘½å
- **æ–­ç‚¹ç»­ä¼ ** - cursor æ£€æŸ¥ç‚¹æœºåˆ¶
- **é‡è¯•ç­–ç•¥** - æŒ‡æ•°é€€é¿ (å¯é…ç½®æœ€å¤§é‡è¯•)

## å®‰å…¨åŸåˆ™

1. **Token æœ¬åœ°å­˜å‚¨** - è®¿é—®ä»¤ç‰Œå­˜å‚¨åœ¨ç”¨æˆ·è®¾å¤‡
2. **åŠ å¯†å­˜å‚¨** - æ•æ„Ÿæ•°æ®åŠ å¯† (å¯é€‰)
3. **HMAC ç­¾å** - Webhook ç­¾åéªŒè¯
4. **OAuth 2.0** - æ ‡å‡†æˆæƒæµç¨‹
5. **æœ€å°æƒé™** - ä»…è¯·æ±‚å¿…è¦æƒé™

## fire-zu ç”Ÿæ€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  billclaw   â”‚â”€â”€â”€â–¶â”‚     ign     â”‚â—€â”€â”€â”€â”‚  beanclaw   â”‚
â”‚ (æ•°æ®å¯¼å…¥)   â”‚    â”‚  (SaaSåç«¯)  â”‚    â”‚ (è´¦æˆ·ç®¡ç†)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **billclaw** - æœ¬åœ°æ•°æ®å¯¼å…¥ (OpenClaw Plugin)
- **ign** - Beancount SaaS åç«¯ (NestJS)
- **beanclaw** - ç§»åŠ¨ç«¯è´¦æˆ·ç®¡ç† (Flutter)

## è¯­è¨€è§„èŒƒ

**æ‰€æœ‰é¡¹ç›®ä»£ç å’Œæ–‡æ¡£å¿…é¡»ä½¿ç”¨çº¯è‹±æ–‡**

- âœ… ä»£ç æ³¨é‡Šï¼šè‹±æ–‡
- âœ… å˜é‡/å‡½æ•°åï¼šè‹±æ–‡
- âœ… æäº¤æ¶ˆæ¯ï¼šè‹±æ–‡
- âœ… ç”¨æˆ·æ–‡æ¡£ï¼šè‹±æ–‡
- âŒ ç¦æ­¢ä¸­æ–‡ã€æ‹¼éŸ³ã€ä¸­è‹±æ··åˆ

ç”± Git hooks è‡ªåŠ¨æ£€æµ‹å¹¶å¼ºåˆ¶æ‰§è¡Œã€‚

**æ³¨æ„**ï¼šæœ¬ `.claude/` ç›®å½•ä½¿ç”¨ä¸­æ–‡ä½œä¸º AI å¼€å‘æŒ‡å¯¼ï¼Œä½†æ‰€æœ‰é¡¹ç›®ä»£ç å¿…é¡»ä½¿ç”¨è‹±æ–‡ã€‚
